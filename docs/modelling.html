<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Modelling | Project in Data Analytics for Decision Making</title>
  <meta name="description" content="Chapter 3 Modelling | Project in Data Analytics for Decision Making" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Modelling | Project in Data Analytics for Decision Making" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Modelling | Project in Data Analytics for Decision Making" />
  
  
  

<meta name="author" content="Manon Verjus and Yooby Gigandet" />


<meta name="date" content="2022-06-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-understanding-and-preparation.html"/>
<link rel="next" href="evaluation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">German Credit - Data analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html"><i class="fa fa-check"></i><b>2</b> Data understanding and preparation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#dataset"><i class="fa fa-check"></i><b>2.1</b> Dataset</a></li>
<li class="chapter" data-level="2.2" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>2.2</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#inacurracies"><i class="fa fa-check"></i><b>2.2.1</b> Inacurracies</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#unbalanced-observations"><i class="fa fa-check"></i><b>2.2.2</b> Unbalanced observations</a></li>
<li class="chapter" data-level="2.2.3" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#visualization"><i class="fa fa-check"></i><b>2.2.3</b> Visualization</a></li>
<li class="chapter" data-level="2.2.4" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#profile-of-a-good-client"><i class="fa fa-check"></i><b>2.2.4</b> Profile of a good client</a></li>
<li class="chapter" data-level="2.2.5" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#profile-of-a-bad-client"><i class="fa fa-check"></i><b>2.2.5</b> Profile of a bad client</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="modelling.html"><a href="modelling.html"><i class="fa fa-check"></i><b>3</b> Modelling</a>
<ul>
<li class="chapter" data-level="3.1" data-path="modelling.html"><a href="modelling.html#splitting-strategies-and-balancing"><i class="fa fa-check"></i><b>3.1</b> Splitting strategies and balancing</a></li>
<li class="chapter" data-level="3.2" data-path="modelling.html"><a href="modelling.html#k-nearest-neighbors-k-nn"><i class="fa fa-check"></i><b>3.2</b> K-Nearest Neighbors (K-NN)</a></li>
<li class="chapter" data-level="3.3" data-path="modelling.html"><a href="modelling.html#naive-bayes"><i class="fa fa-check"></i><b>3.3</b> Naive Bayes</a></li>
<li class="chapter" data-level="3.4" data-path="modelling.html"><a href="modelling.html#logistic-regression"><i class="fa fa-check"></i><b>3.4</b> Logistic Regression</a></li>
<li class="chapter" data-level="3.5" data-path="modelling.html"><a href="modelling.html#linear-discriminant-analysis"><i class="fa fa-check"></i><b>3.5</b> Linear Discriminant Analysis</a></li>
<li class="chapter" data-level="3.6" data-path="modelling.html"><a href="modelling.html#trees"><i class="fa fa-check"></i><b>3.6</b> Trees</a></li>
<li class="chapter" data-level="3.7" data-path="modelling.html"><a href="modelling.html#neural-network"><i class="fa fa-check"></i><b>3.7</b> Neural Network</a></li>
<li class="chapter" data-level="3.8" data-path="modelling.html"><a href="modelling.html#support-vector-machines"><i class="fa fa-check"></i><b>3.8</b> Support Vector Machines</a></li>
<li class="chapter" data-level="3.9" data-path="modelling.html"><a href="modelling.html#random-forest"><i class="fa fa-check"></i><b>3.9</b> Random Forest</a></li>
<li class="chapter" data-level="3.10" data-path="modelling.html"><a href="modelling.html#summary"><i class="fa fa-check"></i><b>3.10</b> Summary</a></li>
<li class="chapter" data-level="3.11" data-path="modelling.html"><a href="modelling.html#variable-importance"><i class="fa fa-check"></i><b>3.11</b> Variable Importance</a>
<ul>
<li class="chapter" data-level="3.11.1" data-path="modelling.html"><a href="modelling.html#logistic-regression-1"><i class="fa fa-check"></i><b>3.11.1</b> Logistic Regression</a></li>
<li class="chapter" data-level="3.11.2" data-path="modelling.html"><a href="modelling.html#random-forest-1"><i class="fa fa-check"></i><b>3.11.2</b> Random Forest</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="evaluation.html"><a href="evaluation.html"><i class="fa fa-check"></i><b>4</b> Evaluation</a></li>
<li class="chapter" data-level="5" data-path="deployment.html"><a href="deployment.html"><i class="fa fa-check"></i><b>5</b> Deployment</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Project in Data Analytics for Decision Making</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="modelling" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Modelling<a href="modelling.html#modelling" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>After cleaning and visualizing the data set, we move on to the creation of models.</p>
<div id="splitting-strategies-and-balancing" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Splitting strategies and balancing<a href="modelling.html#splitting-strategies-and-balancing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In machine learning, a method to measure the accuracy of the models is to split the data into a training and a test set. The first subset is a portion of our data set that is fed into the machine learning model to discover and learn patterns. The other subset is to test our model. We split our data set as follows:</p>
<ul>
<li><strong>Training set:</strong> 80% of the data</li>
<li><strong>Test set:</strong> the remaining 20% of the data</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="modelling.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Splitting</span></span>
<span id="cb1-2"><a href="modelling.html#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="modelling.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb1-4"><a href="modelling.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Creation of the index</span></span>
<span id="cb1-5"><a href="modelling.html#cb1-5" aria-hidden="true" tabindex="-1"></a>index.tr <span class="ot">&lt;-</span> <span class="fu">createDataPartition</span>(<span class="at">y =</span> GermanCredit<span class="sc">$</span>RESPONSE, <span class="at">p=</span> <span class="fl">0.8</span>, <span class="at">list =</span> <span class="cn">FALSE</span>) </span>
<span id="cb1-6"><a href="modelling.html#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="modelling.html#cb1-7" aria-hidden="true" tabindex="-1"></a>GermanCredit.tr <span class="ot">&lt;-</span> GermanCredit[index.tr,] <span class="co"># Training set</span></span>
<span id="cb1-8"><a href="modelling.html#cb1-8" aria-hidden="true" tabindex="-1"></a>GermanCredit.te <span class="ot">&lt;-</span> GermanCredit[<span class="sc">-</span>index.tr,] <span class="co"># Testing set</span></span></code></pre></div>
<p><br></p>
<p>As said in the exploratory data analysis, we notice that our data is heavily unbalanced.</p>
<table>
<thead>
<tr>
<th style="text-align:center;">
Outcome
</th>
<th style="text-align:center;">
Frequence
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
236
</td>
</tr>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
564
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Therefore, any model that favors the majority will reach an higher accuracy. However, in our case, we need to make sure to rightly classify any credit applications to avoid losses. To do so, we use a method called sub-sampling that balance the observations. It will allow us to have two equivalent samples.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="modelling.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balancing</span></span>
<span id="cb2-2"><a href="modelling.html#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="modelling.html#cb2-3" aria-hidden="true" tabindex="-1"></a>n_no <span class="ot">&lt;-</span> <span class="fu">min</span>(<span class="fu">table</span>(GermanCredit.tr<span class="sc">$</span>RESPONSE))</span>
<span id="cb2-4"><a href="modelling.html#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="modelling.html#cb2-5" aria-hidden="true" tabindex="-1"></a>GermanCredit.tr.no <span class="ot">&lt;-</span> <span class="fu">filter</span>(GermanCredit.tr, <span class="fu">as_factor</span>(RESPONSE)<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb2-6"><a href="modelling.html#cb2-6" aria-hidden="true" tabindex="-1"></a>GermanCredit.tr.yes <span class="ot">&lt;-</span> <span class="fu">filter</span>(GermanCredit.tr, <span class="fu">as_factor</span>(RESPONSE)<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb2-7"><a href="modelling.html#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="modelling.html#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="do">## sub-sample 236 instances from the &quot;Good&quot;</span></span>
<span id="cb2-9"><a href="modelling.html#cb2-9" aria-hidden="true" tabindex="-1"></a>index.no <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="at">size=</span>n_no, <span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(GermanCredit.tr.no), <span class="at">replace=</span><span class="cn">FALSE</span>) </span>
<span id="cb2-10"><a href="modelling.html#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="modelling.html#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Bind all the &quot;Bad&quot; and the sub-sampled &quot;Good&quot;</span></span>
<span id="cb2-12"><a href="modelling.html#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="modelling.html#cb2-13" aria-hidden="true" tabindex="-1"></a>GermanCredit.tr.subs <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">rbind</span>(GermanCredit.tr.no, GermanCredit.tr.yes[index.no,])) </span></code></pre></div>
<p><br></p>
<p>By doing so, we get the following sub sampled training set:</p>
<table>
<thead>
<tr>
<th style="text-align:center;">
Outcome
</th>
<th style="text-align:center;">
Frequence
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
236
</td>
</tr>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
236
</td>
</tr>
</tbody>
</table>
</div>
<div id="k-nearest-neighbors-k-nn" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> K-Nearest Neighbors (K-NN)<a href="modelling.html#k-nearest-neighbors-k-nn" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A K-Nearest Neighbors tries to predict the correct class for the test data by calculating the distances between the test data and all the training points. Then to predict, it selects a number K, of the closest point of the test set (thus the name K-nearest neighbors).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="modelling.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># K-Nearest Neighbors (K-NN)</span></span>
<span id="cb3-2"><a href="modelling.html#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="modelling.html#cb3-3" aria-hidden="true" tabindex="-1"></a>trctrl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&quot;cv&quot;</span>, <span class="at">number=</span><span class="dv">10</span>) <span class="co"># Cross-validation</span></span>
<span id="cb3-4"><a href="modelling.html#cb3-4" aria-hidden="true" tabindex="-1"></a>search_grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">k =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">1</span>))</span>
<span id="cb3-5"><a href="modelling.html#cb3-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-6"><a href="modelling.html#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb3-7"><a href="modelling.html#cb3-7" aria-hidden="true" tabindex="-1"></a>knn_cv <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="fu">as_factor</span>(RESPONSE)<span class="sc">~</span>.,</span>
<span id="cb3-8"><a href="modelling.html#cb3-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> GermanCredit.tr.subs,</span>
<span id="cb3-9"><a href="modelling.html#cb3-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">method =</span> <span class="st">&quot;knn&quot;</span>,</span>
<span id="cb3-10"><a href="modelling.html#cb3-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">trControl =</span> trctrl,</span>
<span id="cb3-11"><a href="modelling.html#cb3-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">metric =</span> <span class="st">&quot;Accuracy&quot;</span>,</span>
<span id="cb3-12"><a href="modelling.html#cb3-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">tuneGrid =</span> search_grid)</span></code></pre></div>
<p><br></p>
<p>We need to select the K number of points closest that give the optimal accuracy. In this case, it is 77</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-39-1.png" width="70%" style="display: block; margin: auto;" />
We did several confusion matrix to measure the performance. The first one was with the K-NNk method. We found an accuracy of 0.615 which corresponds to well predicted clients (good and bad). The best accuracy value is 1 so 0.615 is considered as an average value.</p>
<p><br></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-40-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="naive-bayes" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Naive Bayes<a href="modelling.html#naive-bayes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Then, we used a probabilistic approach with Bayes classifiers. With this method, the confusion matrix provides a better accuracy of 0.72.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="modelling.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Naive Bayes</span></span>
<span id="cb4-2"><a href="modelling.html#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="modelling.html#cb4-3" aria-hidden="true" tabindex="-1"></a>trctrl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&quot;cv&quot;</span>, <span class="at">number=</span><span class="dv">10</span>)</span>
<span id="cb4-4"><a href="modelling.html#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="modelling.html#cb4-5" aria-hidden="true" tabindex="-1"></a>search_grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb4-6"><a href="modelling.html#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">usekernel =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb4-7"><a href="modelling.html#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">laplace =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb4-8"><a href="modelling.html#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">adjust =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="at">by =</span> <span class="dv">1</span>)</span>
<span id="cb4-9"><a href="modelling.html#cb4-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-10"><a href="modelling.html#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="modelling.html#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb4-12"><a href="modelling.html#cb4-12" aria-hidden="true" tabindex="-1"></a>naive_bayes <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="fu">as_factor</span>(RESPONSE) <span class="sc">~</span>.,</span>
<span id="cb4-13"><a href="modelling.html#cb4-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> GermanCredit.tr.subs,</span>
<span id="cb4-14"><a href="modelling.html#cb4-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">&quot;naive_bayes&quot;</span>,</span>
<span id="cb4-15"><a href="modelling.html#cb4-15" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trControl=</span>trctrl,</span>
<span id="cb4-16"><a href="modelling.html#cb4-16" aria-hidden="true" tabindex="-1"></a>                 <span class="at">tuneGrid =</span> search_grid)</span></code></pre></div>
<p><br></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-42-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="logistic-regression" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Logistic Regression<a href="modelling.html#logistic-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A logistic regression is a regression adapted to binary classification.</p>
<p>We use a cross-validation method to train our model and choose the Akaïke Information Criterion (AIC) to select the variables. The AIC is used to select the model based on the number of parameters. We choose the model with the smallest AIC.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="modelling.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Logistic Regression</span></span>
<span id="cb5-2"><a href="modelling.html#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="modelling.html#cb5-3" aria-hidden="true" tabindex="-1"></a>trctrl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&quot;cv&quot;</span>, <span class="at">number=</span><span class="dv">10</span>)</span>
<span id="cb5-4"><a href="modelling.html#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="modelling.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb5-6"><a href="modelling.html#cb5-6" aria-hidden="true" tabindex="-1"></a>glm_aic <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="fu">as_factor</span>(RESPONSE) <span class="sc">~</span>.,</span>
<span id="cb5-7"><a href="modelling.html#cb5-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> GermanCredit.tr.subs,</span>
<span id="cb5-8"><a href="modelling.html#cb5-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">&quot;glmStepAIC&quot;</span>,</span>
<span id="cb5-9"><a href="modelling.html#cb5-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">family=</span><span class="st">&quot;binomial&quot;</span>,</span>
<span id="cb5-10"><a href="modelling.html#cb5-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trControl=</span>trctrl,</span>
<span id="cb5-11"><a href="modelling.html#cb5-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trace=</span><span class="dv">0</span>)</span></code></pre></div>
<p>The following plot corresponds to the resulting confusion matrix of the logistic regression:</p>
<p><br></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-44-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>It provides an accuracy of 0.73.</p>
</div>
<div id="linear-discriminant-analysis" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Linear Discriminant Analysis<a href="modelling.html#linear-discriminant-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="modelling.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Linear Discriminant Analysis</span></span>
<span id="cb6-2"><a href="modelling.html#cb6-2" aria-hidden="true" tabindex="-1"></a>trctrl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&quot;cv&quot;</span>, <span class="at">number=</span><span class="dv">10</span>)</span>
<span id="cb6-3"><a href="modelling.html#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="modelling.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb6-5"><a href="modelling.html#cb6-5" aria-hidden="true" tabindex="-1"></a>lda.model <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="fu">as_factor</span>(RESPONSE) <span class="sc">~</span>.,</span>
<span id="cb6-6"><a href="modelling.html#cb6-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> GermanCredit.tr.subs,</span>
<span id="cb6-7"><a href="modelling.html#cb6-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">&quot;lda&quot;</span>,</span>
<span id="cb6-8"><a href="modelling.html#cb6-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trControl =</span> trctrl)</span></code></pre></div>
<p><br></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-46-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="trees" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> Trees<a href="modelling.html#trees" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The trees represent a hierarchical set of binary rules in a shape of a tree.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="modelling.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Trees</span></span>
<span id="cb7-2"><a href="modelling.html#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="modelling.html#cb7-3" aria-hidden="true" tabindex="-1"></a>trctrl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&quot;cv&quot;</span>, <span class="at">number=</span><span class="dv">10</span>)</span>
<span id="cb7-4"><a href="modelling.html#cb7-4" aria-hidden="true" tabindex="-1"></a>search_grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">cp =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="fl">0.1</span>, <span class="at">to =</span> <span class="dv">0</span>, <span class="at">by =</span> <span class="sc">-</span><span class="fl">0.01</span>))</span>
<span id="cb7-5"><a href="modelling.html#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="modelling.html#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb7-7"><a href="modelling.html#cb7-7" aria-hidden="true" tabindex="-1"></a>tree_model <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="fu">as_factor</span>(RESPONSE) <span class="sc">~</span>.,</span>
<span id="cb7-8"><a href="modelling.html#cb7-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> GermanCredit.tr.subs,</span>
<span id="cb7-9"><a href="modelling.html#cb7-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">&quot;rpart&quot;</span>,</span>
<span id="cb7-10"><a href="modelling.html#cb7-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trControl=</span>trctrl,</span>
<span id="cb7-11"><a href="modelling.html#cb7-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">tuneGrid =</span> search_grid)</span></code></pre></div>
<p><br></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-48-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><br></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-49-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="neural-network" class="section level2 hasAnchor" number="3.7">
<h2><span class="header-section-number">3.7</span> Neural Network<a href="modelling.html#neural-network" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Neural Network is a method based on combining several predictions of small nodes.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="modelling.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Neural Network (NN)</span></span>
<span id="cb8-2"><a href="modelling.html#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="modelling.html#cb8-3" aria-hidden="true" tabindex="-1"></a>trctrl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&quot;cv&quot;</span>, <span class="at">number=</span><span class="dv">5</span>)</span>
<span id="cb8-4"><a href="modelling.html#cb8-4" aria-hidden="true" tabindex="-1"></a>search_grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">size =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb8-5"><a href="modelling.html#cb8-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">decay =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="fl">0.1</span>))</span>
<span id="cb8-6"><a href="modelling.html#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="modelling.html#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb8-8"><a href="modelling.html#cb8-8" aria-hidden="true" tabindex="-1"></a>neural_network <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="fu">as_factor</span>(RESPONSE) <span class="sc">~</span>.,</span>
<span id="cb8-9"><a href="modelling.html#cb8-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> GermanCredit.tr.subs,</span>
<span id="cb8-10"><a href="modelling.html#cb8-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">&quot;nnet&quot;</span>,</span>
<span id="cb8-11"><a href="modelling.html#cb8-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trControl=</span>trctrl,</span>
<span id="cb8-12"><a href="modelling.html#cb8-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">tuneGrid =</span> search_grid)</span></code></pre></div>
<p><br></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-51-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>The confusion matrix with neural network presents a good accuracy of 0.705.</p>
</div>
<div id="support-vector-machines" class="section level2 hasAnchor" number="3.8">
<h2><span class="header-section-number">3.8</span> Support Vector Machines<a href="modelling.html#support-vector-machines" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="modelling.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Support Vector Machines</span></span>
<span id="cb9-2"><a href="modelling.html#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="modelling.html#cb9-3" aria-hidden="true" tabindex="-1"></a>trctrl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&quot;cv&quot;</span>, <span class="at">number=</span><span class="dv">5</span>)</span>
<span id="cb9-4"><a href="modelling.html#cb9-4" aria-hidden="true" tabindex="-1"></a>search_grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">C =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.1</span>, <span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>))</span>
<span id="cb9-5"><a href="modelling.html#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="modelling.html#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb9-7"><a href="modelling.html#cb9-7" aria-hidden="true" tabindex="-1"></a>svm <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="fu">as_factor</span>(RESPONSE) <span class="sc">~</span>.,</span>
<span id="cb9-8"><a href="modelling.html#cb9-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> GermanCredit.tr.subs,</span>
<span id="cb9-9"><a href="modelling.html#cb9-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">method =</span> <span class="st">&quot;svmLinear&quot;</span>,</span>
<span id="cb9-10"><a href="modelling.html#cb9-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">trControl=</span>trctrl,</span>
<span id="cb9-11"><a href="modelling.html#cb9-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">tuneGrid =</span> search_grid)</span></code></pre></div>
<p><br></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-53-1.png" width="70%" style="display: block; margin: auto;" />
The cinfusion matrix presents an accuracy of 0.745.</p>
</div>
<div id="random-forest" class="section level2 hasAnchor" number="3.9">
<h2><span class="header-section-number">3.9</span> Random Forest<a href="modelling.html#random-forest" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="modelling.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Random Forest</span></span>
<span id="cb10-2"><a href="modelling.html#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="modelling.html#cb10-3" aria-hidden="true" tabindex="-1"></a>trctrl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&quot;cv&quot;</span>, <span class="at">number=</span><span class="dv">5</span>) </span>
<span id="cb10-4"><a href="modelling.html#cb10-4" aria-hidden="true" tabindex="-1"></a>search_grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">.mtry =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>)) </span>
<span id="cb10-5"><a href="modelling.html#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="modelling.html#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb10-7"><a href="modelling.html#cb10-7" aria-hidden="true" tabindex="-1"></a>rf <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="fu">as_factor</span>(RESPONSE) <span class="sc">~</span>., </span>
<span id="cb10-8"><a href="modelling.html#cb10-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">data =</span> GermanCredit.tr.subs,</span>
<span id="cb10-9"><a href="modelling.html#cb10-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">method =</span> <span class="st">&quot;rf&quot;</span>,</span>
<span id="cb10-10"><a href="modelling.html#cb10-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">trControl =</span> trctrl,</span>
<span id="cb10-11"><a href="modelling.html#cb10-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">tuneGrid =</span> search_grid</span>
<span id="cb10-12"><a href="modelling.html#cb10-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><br></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-55-1.png" width="70%" style="display: block; margin: auto;" />
Again, this models shares an accuracy of 0.73.</p>
</div>
<div id="summary" class="section level2 hasAnchor" number="3.10">
<h2><span class="header-section-number">3.10</span> Summary<a href="modelling.html#summary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To evaluate our models, there are many metrics that can be used. We decided to choose first the accuracy and then have a look at the sensitivity and the specificity. In other words, we want to have a model with a good accuracy and the best sensitivity and specificity.</p>
<p><br></p>
<table class="table table-striped table-condensed" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Accuracy
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Sensitivity
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Specificity
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Support Vector Machines
</td>
<td style="text-align:right;">
0.74
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0.74
</td>
</tr>
<tr>
<td style="text-align:left;">
Tree
</td>
<td style="text-align:right;">
0.74
</td>
<td style="text-align:right;">
0.66
</td>
<td style="text-align:right;">
0.65
</td>
</tr>
<tr>
<td style="text-align:left;">
Logistic Regression
</td>
<td style="text-align:right;">
0.73
</td>
<td style="text-align:right;">
0.72
</td>
<td style="text-align:right;">
0.74
</td>
</tr>
<tr>
<td style="text-align:left;">
Random Forest
</td>
<td style="text-align:right;">
0.73
</td>
<td style="text-align:right;">
0.69
</td>
<td style="text-align:right;">
0.75
</td>
</tr>
<tr>
<td style="text-align:left;">
Linear Discriminant Analysis
</td>
<td style="text-align:right;">
0.72
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0.71
</td>
</tr>
<tr>
<td style="text-align:left;">
Naive Bayes
</td>
<td style="text-align:right;">
0.72
</td>
<td style="text-align:right;">
0.81
</td>
<td style="text-align:right;">
0.68
</td>
</tr>
<tr>
<td style="text-align:left;">
Neural Network
</td>
<td style="text-align:right;">
0.70
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0.68
</td>
</tr>
<tr>
<td style="text-align:left;">
K-nearest neighbors
</td>
<td style="text-align:right;">
0.62
</td>
<td style="text-align:right;">
0.47
</td>
<td style="text-align:right;">
0.68
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>By looking at this summary table of the models, we can see that the Logistic Regression and the Random Forest are our top models. Even if the Random Forest is slightly worse than the following models in terms of specificity and sensitivity. Therefore, we chose the two models:</p>
<ul>
<li><strong>Logistic Regression</strong></li>
<li><strong>Random Forest</strong></li>
</ul>
</div>
<div id="variable-importance" class="section level2 hasAnchor" number="3.11">
<h2><span class="header-section-number">3.11</span> Variable Importance<a href="modelling.html#variable-importance" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The following plot shows a selection of the most important variables of our data frame.
The two main disadvantages of these methods are: The increasing over fitting risk when the number of observations is insufficient. The significant computation time when the number of variables is large.</p>
<p>The result below displays that we seem to have 6 relevant variables: checking account, the duration of the credit asked, the history of previous credits, the savings, the amount of money owned by the applicant and the real estate owned.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-58-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>After this first global analysis, we wanted to evaluate if there is room for improvement for the models selected in Machine Learning, in other words, if we can remove some variables to make the analysis easier without loosing the performance.</p>
<div id="logistic-regression-1" class="section level3 hasAnchor" number="3.11.1">
<h3><span class="header-section-number">3.11.1</span> Logistic Regression<a href="modelling.html#logistic-regression-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-61-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><br></p>
<table class="table table-striped table-condensed" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Accuracy
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Sensitivity
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Specificity
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Original Logistic Regression
</td>
<td style="text-align:right;">
0.73
</td>
<td style="text-align:right;">
0.72
</td>
<td style="text-align:right;">
0.74
</td>
</tr>
<tr>
<td style="text-align:left;">
Refit Logistic Regression
</td>
<td style="text-align:right;">
0.66
</td>
<td style="text-align:right;">
0.61
</td>
<td style="text-align:right;">
0.68
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>As we can see in the table above, we lose performance in terms of the metrics. This means that the variable importance is not that important for the logistic regression. A good point is that we need to remind ourselves that the logistic regression already does a variable importance with the AIC criterion.</p>
</div>
<div id="random-forest-1" class="section level3 hasAnchor" number="3.11.2">
<h3><span class="header-section-number">3.11.2</span> Random Forest<a href="modelling.html#random-forest-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-67-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><br></p>
<table class="table table-striped table-condensed" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Accuracy
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Sensitivity
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Specificity
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Original Random Forest
</td>
<td style="text-align:right;">
0.73
</td>
<td style="text-align:right;">
0.69
</td>
<td style="text-align:right;">
0.75
</td>
</tr>
<tr>
<td style="text-align:left;">
Refit Random Forest
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:right;">
0.70
</td>
<td style="text-align:right;">
0.67
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Again, we lose a bit of performance in terms of the metrics. However, the model is simpler and might be easier to understand.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-understanding-and-preparation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="evaluation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ygigandet/PDADM/edit/master/03-Model.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ygigandet/PDADM/blob/master/03-Model.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
