<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Models | Project in Data Analytics for Decision Making</title>
  <meta name="description" content="Chapter 3 Models | Project in Data Analytics for Decision Making" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Models | Project in Data Analytics for Decision Making" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Models | Project in Data Analytics for Decision Making" />
  
  
  

<meta name="author" content="Manon Verjus and Yooby Gigandet" />


<meta name="date" content="2022-05-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-understanding-and-preparation.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">German Credit - Data analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html"><i class="fa fa-check"></i><b>2</b> Data understanding and preparation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#dataset"><i class="fa fa-check"></i><b>2.1</b> Dataset</a></li>
<li class="chapter" data-level="2.2" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>2.2</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#inacurracies"><i class="fa fa-check"></i><b>2.2.1</b> Inacurracies</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#unbalanced-observations"><i class="fa fa-check"></i><b>2.2.2</b> Unbalanced observations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="models.html"><a href="models.html"><i class="fa fa-check"></i><b>3</b> Models</a>
<ul>
<li class="chapter" data-level="3.1" data-path="models.html"><a href="models.html#splitting-strategies"><i class="fa fa-check"></i><b>3.1</b> Splitting strategies</a></li>
<li class="chapter" data-level="3.2" data-path="models.html"><a href="models.html#balance-the-dataset"><i class="fa fa-check"></i><b>3.2</b> Balance the dataset</a></li>
<li class="chapter" data-level="3.3" data-path="models.html"><a href="models.html#logistic-regression"><i class="fa fa-check"></i><b>3.3</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="models.html"><a href="models.html#cross-validation"><i class="fa fa-check"></i><b>3.3.1</b> Cross-validation</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="models.html"><a href="models.html#neural-networks"><i class="fa fa-check"></i><b>3.4</b> Neural Networks</a></li>
<li class="chapter" data-level="3.5" data-path="models.html"><a href="models.html#trees"><i class="fa fa-check"></i><b>3.5</b> Trees</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Project in Data Analytics for Decision Making</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="models" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Models<a href="models.html#models" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>After the exploration of our data, we start with the modelling part.</p>
<div id="splitting-strategies" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Splitting strategies<a href="models.html#splitting-strategies" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In order to test the performance of our models, we use a splitting strategy of the dataset:</p>
<ul>
<li>80% is used as a training set</li>
<li>The remaining 20% is used as a test set.</li>
</ul>
</div>
<div id="balance-the-dataset" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Balance the dataset<a href="models.html#balance-the-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As said in the exploratory data analysis, we notice that our data is heavily unbalanced. We need to balance it before fitting our model.</p>
</div>
<div id="logistic-regression" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Logistic Regression<a href="models.html#logistic-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We fit a logistic regression to test if it could predict the output we desired.</p>
<p>For our first model weâ€™ll select all the variables given in the German Credit data set.</p>
<p>Our initial model is therefore:</p>
<p><span class="math display">\[
z_i = a_o + a_1{CHKACCT}_{31i} + ... + a_{31}Foreign_{31i}
\]</span></p>
<p>Selection of the model</p>
<p>Final model:</p>
<p><span class="math display">\[
z_i = a_o + a_1{CHKACCT}_{1i} + a_2{DURATION}_{2i} + a_3{HISTORY}_{3i} + a_4{NEWCAR}_{4i} + a_4{USEDCAR}_{4i} + a_5{AMOUNT}_{5i} + a_6{SAVACCT}_{6i} + a_7{EMPLOYMENT}_{7i} + a_8{INSTALLRATE}_{8i} + a_9{MALSINGLE}_{9i} + a_10{CO-APPLICANT}_{10i} + a_11{GUARANTOR}_{11i} + a_12{REALESTATE}_{12i} + a_13{OTHERINSTALL}_{13i} + a_14{OWNRES}_{14i} + a_15{NUMCREDITS}_{15i} + a_16{NUMDEPENDENTS}_{16i} + a_17{FOREIGN}_{17i}      
\]</span>
Predictions:</p>
<p>Not a good model. Do not forget that the prior of this data set is not balanced at all. We should take it into account.</p>
<p>As depicted below, if our model was good, we should have boxplot that are far away from the 0.5, which is not the case, especially for the bad credits.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-34-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div id="cross-validation" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Cross-validation<a href="models.html#cross-validation" class="anchor-section" aria-label="Anchor link to header"></a></h3>

</div>
</div>
<div id="neural-networks" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Neural Networks<a href="models.html#neural-networks" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<pre><code>#&gt; # weights:  65
#&gt; initial  value 328.042130 
#&gt; final  value 327.165469 
#&gt; converged
#&gt; a 30-2-1 network with 65 weights
#&gt; options were - entropy fitting 
#&gt;   b-&gt;h1  i1-&gt;h1  i2-&gt;h1  i3-&gt;h1  i4-&gt;h1  i5-&gt;h1  i6-&gt;h1  i7-&gt;h1 
#&gt;   -0.21   -0.20    0.09    0.08   -0.13    0.13    0.05   -0.53 
#&gt;  i8-&gt;h1  i9-&gt;h1 i10-&gt;h1 i11-&gt;h1 i12-&gt;h1 i13-&gt;h1 i14-&gt;h1 i15-&gt;h1 
#&gt;   -0.67    0.64   -0.43   -0.59   -0.68   -0.20   -0.25   -0.61 
#&gt; i16-&gt;h1 i17-&gt;h1 i18-&gt;h1 i19-&gt;h1 i20-&gt;h1 i21-&gt;h1 i22-&gt;h1 i23-&gt;h1 
#&gt;    0.12   -0.03    0.09   -0.02   -0.27   -0.35   -0.01   -0.36 
#&gt; i24-&gt;h1 i25-&gt;h1 i26-&gt;h1 i27-&gt;h1 i28-&gt;h1 i29-&gt;h1 i30-&gt;h1 
#&gt;   -0.18   -0.60   -0.60   -0.48    0.22    0.61   -0.51 
#&gt;   b-&gt;h2  i1-&gt;h2  i2-&gt;h2  i3-&gt;h2  i4-&gt;h2  i5-&gt;h2  i6-&gt;h2  i7-&gt;h2 
#&gt;    0.16    0.64    0.70    0.11   -0.09   -0.28   -0.58   -0.17 
#&gt;  i8-&gt;h2  i9-&gt;h2 i10-&gt;h2 i11-&gt;h2 i12-&gt;h2 i13-&gt;h2 i14-&gt;h2 i15-&gt;h2 
#&gt;    0.48   -0.70   -0.35   -0.20   -0.19   -0.36    0.39    0.10 
#&gt; i16-&gt;h2 i17-&gt;h2 i18-&gt;h2 i19-&gt;h2 i20-&gt;h2 i21-&gt;h2 i22-&gt;h2 i23-&gt;h2 
#&gt;   -0.15   -0.50    0.33    0.01    0.55   -0.41    0.43    0.54 
#&gt; i24-&gt;h2 i25-&gt;h2 i26-&gt;h2 i27-&gt;h2 i28-&gt;h2 i29-&gt;h2 i30-&gt;h2 
#&gt;    0.11    0.59    0.11    0.07   -0.05    0.62    0.36 
#&gt;  b-&gt;o h1-&gt;o h2-&gt;o 
#&gt;  0.00  0.55 -0.29
#&gt; [1] 0.5</code></pre>

</div>
<div id="trees" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Trees<a href="models.html#trees" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-39-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-40-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-41-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre><code>#&gt;     Obs
#&gt; Pred  0  1
#&gt;    0 42 48
#&gt;    1 22 88
#&gt;         0     1
#&gt; 1   0.257 0.743
#&gt; 2   0.683 0.317
#&gt; 3   0.683 0.317
#&gt; 4   0.343 0.657
#&gt; 5   0.683 0.317
#&gt; 6   0.683 0.317
#&gt; 7   0.257 0.743
#&gt; 8   0.257 0.743
#&gt; 9   0.683 0.317
#&gt; 10  0.683 0.317
#&gt; 11  0.257 0.743
#&gt; 12  0.257 0.743
#&gt; 13  0.683 0.317
#&gt; 14  0.683 0.317
#&gt; 15  0.257 0.743
#&gt; 16  0.683 0.317
#&gt; 17  0.683 0.317
#&gt; 18  0.683 0.317
#&gt; 19  0.257 0.743
#&gt; 20  0.343 0.657
#&gt; 21  0.683 0.317
#&gt; 22  0.683 0.317
#&gt; 23  0.683 0.317
#&gt; 24  0.257 0.743
#&gt; 25  0.257 0.743
#&gt; 26  0.257 0.743
#&gt; 27  0.683 0.317
#&gt; 28  0.257 0.743
#&gt; 29  0.683 0.317
#&gt; 30  0.683 0.317
#&gt; 31  0.257 0.743
#&gt; 32  0.257 0.743
#&gt; 33  0.683 0.317
#&gt; 34  0.257 0.743
#&gt; 35  0.257 0.743
#&gt; 36  0.343 0.657
#&gt; 37  0.683 0.317
#&gt; 38  0.257 0.743
#&gt; 39  0.343 0.657
#&gt; 40  0.257 0.743
#&gt; 41  0.683 0.317
#&gt; 42  0.683 0.317
#&gt; 43  0.257 0.743
#&gt; 44  0.683 0.317
#&gt; 45  0.257 0.743
#&gt; 46  0.257 0.743
#&gt; 47  0.257 0.743
#&gt; 48  0.343 0.657
#&gt; 49  0.683 0.317
#&gt; 50  0.257 0.743
#&gt; 51  0.257 0.743
#&gt; 52  0.683 0.317
#&gt; 53  0.257 0.743
#&gt; 54  0.257 0.743
#&gt; 55  0.257 0.743
#&gt; 56  0.257 0.743
#&gt; 57  0.683 0.317
#&gt; 58  0.683 0.317
#&gt; 59  0.257 0.743
#&gt; 60  0.257 0.743
#&gt; 61  0.683 0.317
#&gt; 62  0.257 0.743
#&gt; 63  0.257 0.743
#&gt; 64  0.257 0.743
#&gt; 65  0.683 0.317
#&gt; 66  0.683 0.317
#&gt; 67  0.683 0.317
#&gt; 68  0.683 0.317
#&gt; 69  0.683 0.317
#&gt; 70  0.683 0.317
#&gt; 71  0.257 0.743
#&gt; 72  0.257 0.743
#&gt; 73  0.683 0.317
#&gt; 74  0.683 0.317
#&gt; 75  0.257 0.743
#&gt; 76  0.343 0.657
#&gt; 77  0.257 0.743
#&gt; 78  0.683 0.317
#&gt; 79  0.257 0.743
#&gt; 80  0.683 0.317
#&gt; 81  0.257 0.743
#&gt; 82  0.257 0.743
#&gt; 83  0.683 0.317
#&gt; 84  0.683 0.317
#&gt; 85  0.683 0.317
#&gt; 86  0.683 0.317
#&gt; 87  0.343 0.657
#&gt; 88  0.683 0.317
#&gt; 89  0.257 0.743
#&gt; 90  0.683 0.317
#&gt; 91  0.257 0.743
#&gt; 92  0.257 0.743
#&gt; 93  0.257 0.743
#&gt; 94  0.257 0.743
#&gt; 95  0.683 0.317
#&gt; 96  0.257 0.743
#&gt; 97  0.683 0.317
#&gt; 98  0.257 0.743
#&gt; 99  0.343 0.657
#&gt; 100 0.257 0.743
#&gt; 101 0.257 0.743
#&gt; 102 0.343 0.657
#&gt; 103 0.257 0.743
#&gt; 104 0.343 0.657
#&gt; 105 0.257 0.743
#&gt; 106 0.683 0.317
#&gt; 107 0.257 0.743
#&gt; 108 0.343 0.657
#&gt; 109 0.683 0.317
#&gt; 110 0.257 0.743
#&gt; 111 0.683 0.317
#&gt; 112 0.257 0.743
#&gt; 113 0.343 0.657
#&gt; 114 0.683 0.317
#&gt; 115 0.257 0.743
#&gt; 116 0.683 0.317
#&gt; 117 0.683 0.317
#&gt; 118 0.257 0.743
#&gt; 119 0.343 0.657
#&gt; 120 0.683 0.317
#&gt; 121 0.683 0.317
#&gt; 122 0.683 0.317
#&gt; 123 0.343 0.657
#&gt; 124 0.343 0.657
#&gt; 125 0.257 0.743
#&gt; 126 0.683 0.317
#&gt; 127 0.683 0.317
#&gt; 128 0.683 0.317
#&gt; 129 0.343 0.657
#&gt; 130 0.257 0.743
#&gt; 131 0.257 0.743
#&gt; 132 0.257 0.743
#&gt; 133 0.257 0.743
#&gt; 134 0.683 0.317
#&gt; 135 0.683 0.317
#&gt; 136 0.257 0.743
#&gt; 137 0.257 0.743
#&gt; 138 0.257 0.743
#&gt; 139 0.683 0.317
#&gt; 140 0.257 0.743
#&gt; 141 0.257 0.743
#&gt; 142 0.257 0.743
#&gt; 143 0.257 0.743
#&gt; 144 0.257 0.743
#&gt; 145 0.257 0.743
#&gt; 146 0.683 0.317
#&gt; 147 0.683 0.317
#&gt; 148 0.683 0.317
#&gt; 149 0.257 0.743
#&gt; 150 0.683 0.317
#&gt; 151 0.257 0.743
#&gt; 152 0.683 0.317
#&gt; 153 0.257 0.743
#&gt; 154 0.257 0.743
#&gt; 155 0.683 0.317
#&gt; 156 0.683 0.317
#&gt; 157 0.683 0.317
#&gt; 158 0.343 0.657
#&gt; 159 0.683 0.317
#&gt; 160 0.683 0.317
#&gt; 161 0.683 0.317
#&gt; 162 0.683 0.317
#&gt; 163 0.683 0.317
#&gt; 164 0.257 0.743
#&gt; 165 0.683 0.317
#&gt; 166 0.257 0.743
#&gt; 167 0.257 0.743
#&gt; 168 0.683 0.317
#&gt; 169 0.257 0.743
#&gt; 170 0.683 0.317
#&gt; 171 0.683 0.317
#&gt; 172 0.257 0.743
#&gt; 173 0.343 0.657
#&gt; 174 0.257 0.743
#&gt; 175 0.257 0.743
#&gt; 176 0.683 0.317
#&gt; 177 0.257 0.743
#&gt; 178 0.257 0.743
#&gt; 179 0.257 0.743
#&gt; 180 0.683 0.317
#&gt; 181 0.683 0.317
#&gt; 182 0.683 0.317
#&gt; 183 0.683 0.317
#&gt; 184 0.343 0.657
#&gt; 185 0.343 0.657
#&gt; 186 0.683 0.317
#&gt; 187 0.257 0.743
#&gt; 188 0.257 0.743
#&gt; 189 0.683 0.317
#&gt; 190 0.683 0.317
#&gt; 191 0.683 0.317
#&gt; 192 0.257 0.743
#&gt; 193 0.683 0.317
#&gt; 194 0.257 0.743
#&gt; 195 0.257 0.743
#&gt; 196 0.257 0.743
#&gt; 197 0.683 0.317
#&gt; 198 0.683 0.317
#&gt; 199 0.257 0.743
#&gt; 200 0.683 0.317</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-understanding-and-preparation.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ygigandet/PDADM/edit/master/03-Model.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ygigandet/PDADM/blob/master/03-Model.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
