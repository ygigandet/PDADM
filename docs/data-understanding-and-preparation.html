<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Data understanding and preparation | Project in Data Analytics for Decision Making</title>
  <meta name="description" content="Chapter 2 Data understanding and preparation | Project in Data Analytics for Decision Making" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Data understanding and preparation | Project in Data Analytics for Decision Making" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Data understanding and preparation | Project in Data Analytics for Decision Making" />
  
  
  

<meta name="author" content="Manon Verjus and Yooby Gigandet" />


<meta name="date" content="2022-05-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="models.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">German Credit - Data analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html"><i class="fa fa-check"></i><b>2</b> Data understanding and preparation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#data-understanding"><i class="fa fa-check"></i><b>2.1</b> Data understanding</a></li>
<li class="chapter" data-level="2.2" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>2.2</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="2.3" data-path="data-understanding-and-preparation.html"><a href="data-understanding-and-preparation.html#exploratory-data-analysis-1"><i class="fa fa-check"></i><b>2.3</b> Exploratory Data Analysis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="models.html"><a href="models.html"><i class="fa fa-check"></i><b>3</b> Models</a>
<ul>
<li class="chapter" data-level="3.1" data-path="models.html"><a href="models.html#logistic-regression"><i class="fa fa-check"></i><b>3.1</b> Logistic Regression</a></li>
<li class="chapter" data-level="3.2" data-path="models.html"><a href="models.html#trees"><i class="fa fa-check"></i><b>3.2</b> Trees</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Project in Data Analytics for Decision Making</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-understanding-and-preparation" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Data understanding and preparation<a href="data-understanding-and-preparation.html#data-understanding-and-preparation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="data-understanding" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Data understanding<a href="data-understanding-and-preparation.html#data-understanding" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div>
<p>To create a model that will predict whether a client application represents a risk or not, we work on a dataset from our client containing data on 1000 past credit applicants, described by the following variables:</p>
<ul>
<li><p><strong>CHK_ACCT</strong>: The checking account status of the applicant in deutsche Mark (DM).</p></li>
<li><p><strong>DURATION</strong>: The duration of the credit in months.</p></li>
<li><p><strong>HISTORY</strong>: The credit history of the applicant.</p></li>
<li><p><strong>NEW_CAR</strong>: Purpose of the credit.</p></li>
<li><p><strong>USED_CAR</strong>: Purpose of the credit.</p></li>
<li><p><strong>FURNITURE</strong>: Purpose of the credit.</p></li>
<li><p><strong>RADIO/TV</strong>: Purpose of the credit.</p></li>
<li><p><strong>EDUCATION</strong>: Purpose of the credit.</p></li>
<li><p><strong>RETRAINING</strong>: Purpose of the credit.</p></li>
<li><p><strong>AMOUNT</strong>: The credit amount.</p></li>
<li><p><strong>SAV_ACCT</strong>: The average balance in savings account in deutsche Mark (DM).</p></li>
<li><p><strong>EMPLOYMENT</strong>: If the applicant is employed and since how long.</p></li>
<li><p><strong>INSTALL_RATE</strong>: The installment rate as percentage of disposable income.</p></li>
<li><p><strong>MALE_DIV</strong>: If the applicant is male and divorced.</p></li>
<li><p><strong>MALE_SINGLE</strong>: If the applicant is male and single.</p></li>
<li><p><strong>MALE_MAR_or_WID</strong>: If the applicant is male, married or widowed.</p></li>
<li><p><strong>CO-APPLICANT</strong>: If the applicant has a co-applicant.</p></li>
<li><p><strong>GUARANTOR</strong>: If the applicant has a guarantor.</p></li>
<li><p><strong>PRESENT_RESIDENT</strong>: If the applicant is a resident and since how many years.</p></li>
<li><p><strong>REAL_ESTATE</strong>: If the applicant owns real estate.</p></li>
<li><p><strong>PROP-UNKN-NONE</strong>: If the applicant owns no property (or unknown).</p></li>
<li><p><strong>AGE</strong>: Age of the applicant in years.</p></li>
<li><p><strong>OTHER_INSTALL</strong>: If the applicant has other installment plan credit.</p></li>
<li><p><strong>RENT</strong>: If the applicant rents.</p></li>
<li><p><strong>OWN_RES</strong>: If the applicant owns residence.</p></li>
<li><p><strong>NUM_CREDITS</strong>: Number of existing credits of the applicant at our client bank.</p></li>
<li><p><strong>JOB</strong>: The nature of the applicant’s job.</p></li>
<li><p><strong>NUM_DEPENDENT</strong>: Number of people for whom liable to provide maintenance.</p></li>
<li><p><strong>TELEPHONE</strong>: If the applicant has a phone in his or her name.</p></li>
<li><p><strong>FOREIGN</strong>: If the applicant is a foreign worker.</p></li>
</ul>
<p>By exploring the data, we find some inaccuracies and in agreement with the customer, we change them as follow:</p>
<ul>
<li>One observation of the column “Age”: 75 instead of 125 years old.</li>
<li>One observation of the column “Education”: 1 instead of -1.</li>
<li>One observation of the column “Guarantor”: 1 instead of 2.</li>
<li>Code the categories of the column “Present_resid”: 0 to 3 instead of 1 to 4</li>
</ul>
</div>
</div>
<div id="exploratory-data-analysis" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Exploratory Data Analysis<a href="data-understanding-and-preparation.html#exploratory-data-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The German Credit data is heavily unbalanced: 700 credit applications rated as good versus 300 credit applications rated as bad.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-10-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-14-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>What does the first category means? &lt;0, meaning 0? So the account is opened but there is nothing on it?
Another point, if you don’t have any checking account, your credit applications has more probability to be rated as good?</p>
<p>Here again, seems weird. At 3 and 4, it means the previous credit were not or partially reimbursed. But they are graded as good?</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-19-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-24-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Some questions need to be asked. What’s the difference between an application with a small saving accounts and one with none saving accounts? Why the bank gives good grades to the latest?</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-29-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre><code>#&gt; $`1`
#&gt; 
#&gt; $`2`
#&gt; 
#&gt; attr(,&quot;class&quot;)
#&gt; [1] &quot;list&quot;      &quot;ggarrange&quot;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-37-1.png" width="70%" style="display: block; margin: auto;" /><img src="bookdownproj_files/figure-html/unnamed-chunk-37-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-42-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-47-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-49-1.png" width="70%" style="display: block; margin: auto;" /><img src="bookdownproj_files/figure-html/unnamed-chunk-49-2.png" width="70%" style="display: block; margin: auto;" /><img src="bookdownproj_files/figure-html/unnamed-chunk-49-3.png" width="70%" style="display: block; margin: auto;" /><img src="bookdownproj_files/figure-html/unnamed-chunk-49-4.png" width="70%" style="display: block; margin: auto;" /><img src="bookdownproj_files/figure-html/unnamed-chunk-49-5.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-51-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>The following plot shows a selection of the most important variables of our dataframe.
The two main disadvantages of these methods are: The increasing overfitting risk when the number of observations is insufficient. The significant computation time when the number of variables is large.</p>
<pre><code>#&gt; Warning in train.default(x, y, weights = w, ...): You are trying to
#&gt; do regression and your outcome only has two possible values Are you
#&gt; trying to do classification? If so, use a 2 level factor as your
#&gt; outcome column.
#&gt; Warning in nominalTrainWorkflow(x = x, y = y, wts = weights, info
#&gt; = trainInfo, : There were missing values in resampled performance
#&gt; measures.
#&gt; rpart variable importance
#&gt; 
#&gt;   only 20 most important variables shown (out of 30)
#&gt; 
#&gt;                  Overall
#&gt; CHK_ACCT          0.1141
#&gt; DURATION          0.0803
#&gt; HISTORY           0.0767
#&gt; SAV_ACCT          0.0684
#&gt; AMOUNT            0.0516
#&gt; REAL_ESTATE       0.0343
#&gt; PROP_UNKN_NONE    0.0000
#&gt; RETRAINING        0.0000
#&gt; TELEPHONE         0.0000
#&gt; GUARANTOR         0.0000
#&gt; MALE_DIV          0.0000
#&gt; OTHER_INSTALL     0.0000
#&gt; PRESENT_RESIDENT  0.0000
#&gt; FURNITURE         0.0000
#&gt; NUM_CREDITS       0.0000
#&gt; FOREIGN           0.0000
#&gt; MALE_SINGLE       0.0000
#&gt; AGE               0.0000
#&gt; NUM_DEPENDENTS    0.0000
#&gt; OWN_RES           0.0000</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-52-1.png" width="70%" style="display: block; margin: auto;" /></p>

</div>
<div id="exploratory-data-analysis-1" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Exploratory Data Analysis<a href="data-understanding-and-preparation.html#exploratory-data-analysis-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The German Credit data is heavily unbalanced: 700 credit applications rated as good versus 300 credit applications rated as bad.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-57-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-61-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>What does the first category means? &lt;0, meaning 0? So the account is opened but there is nothing on it?
Another point, if you don’t have any checking account, your credit applications has more probability to be rated as good?</p>
<p>Here again, seems weird. At 3 and 4, it means the previous credit were not or partially reimbursed. But they are graded as good?</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-66-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-71-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Some questions need to be asked. What’s the difference between an application with a small saving accounts and one with none saving accounts? Why the bank gives good grades to the latest?</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-76-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre><code>#&gt; $`1`
#&gt; 
#&gt; $`2`
#&gt; 
#&gt; attr(,&quot;class&quot;)
#&gt; [1] &quot;list&quot;      &quot;ggarrange&quot;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-84-1.png" width="70%" style="display: block; margin: auto;" /><img src="bookdownproj_files/figure-html/unnamed-chunk-84-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-89-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-94-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-96-1.png" width="70%" style="display: block; margin: auto;" /><img src="bookdownproj_files/figure-html/unnamed-chunk-96-2.png" width="70%" style="display: block; margin: auto;" /><img src="bookdownproj_files/figure-html/unnamed-chunk-96-3.png" width="70%" style="display: block; margin: auto;" /><img src="bookdownproj_files/figure-html/unnamed-chunk-96-4.png" width="70%" style="display: block; margin: auto;" /><img src="bookdownproj_files/figure-html/unnamed-chunk-96-5.png" width="70%" style="display: block; margin: auto;" /></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-98-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>The following plot shows a selection of the most important variables of our dataframe.
The two main disadvantages of these methods are: The increasing overfitting risk when the number of observations is insufficient. The significant computation time when the number of variables is large.</p>
<pre><code>#&gt; Warning in train.default(x, y, weights = w, ...): You are trying to
#&gt; do regression and your outcome only has two possible values Are you
#&gt; trying to do classification? If so, use a 2 level factor as your
#&gt; outcome column.
#&gt; Warning in nominalTrainWorkflow(x = x, y = y, wts = weights, info
#&gt; = trainInfo, : There were missing values in resampled performance
#&gt; measures.
#&gt; rpart variable importance
#&gt; 
#&gt;   only 20 most important variables shown (out of 30)
#&gt; 
#&gt;                Overall
#&gt; CHK_ACCT        0.1141
#&gt; DURATION        0.0803
#&gt; HISTORY         0.0767
#&gt; SAV_ACCT        0.0684
#&gt; AMOUNT          0.0516
#&gt; REAL_ESTATE     0.0343
#&gt; NUM_DEPENDENTS  0.0000
#&gt; NEW_CAR         0.0000
#&gt; FURNITURE       0.0000
#&gt; USED_CAR        0.0000
#&gt; FOREIGN         0.0000
#&gt; OWN_RES         0.0000
#&gt; PROP_UNKN_NONE  0.0000
#&gt; GUARANTOR       0.0000
#&gt; JOB             0.0000
#&gt; INSTALL_RATE    0.0000
#&gt; EDUCATION       0.0000
#&gt; RADIO.TV        0.0000
#&gt; CO.APPLICANT    0.0000
#&gt; RENT            0.0000</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-99-1.png" width="70%" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="models.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ygigandet/PDADM/edit/master/02-Data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ygigandet/PDADM/blob/master/02-Data.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
